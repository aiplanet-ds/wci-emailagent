# ============================================================================
# PRODUCTION ENVIRONMENT CONFIGURATION
# ============================================================================
# Copy this file and fill in your production values.
# This file is used by docker-compose.prod.yml
# ============================================================================

# Microsoft Azure AD / App Registration
AZ_TENANT_ID=common
AZ_CLIENT_ID=your-production-client-id
AZ_CLIENT_SECRET=your-production-client-secret
AZ_USER_EMAIL=your-email@domain.com

# Authentication Mode: delegated (recommended) | application
GRAPH_MODE=delegated

# Epicor ERP API Configuration
EPICOR_BASE_URL=https://your-epicor-instance.epicorsaas.com/api/v2/odata
EPICOR_API_KEY=your-production-api-key
EPICOR_BEARER_TOKEN=
EPICOR_COMPANY_ID=your-company-id
EPICOR_DEFAULT_PRICE_LIST=UNA1

# Epicor OAuth Configuration
EPICOR_CLIENT_ID=your-epicor-client-id
EPICOR_CLIENT_SECRET=your-epicor-client-secret
EPICOR_AUTO_TOKEN=true

# Azure OpenAI Configuration
AZURE_OPENAI_API_KEY=your-production-openai-key
AZURE_OPENAI_API_ENDPOINT=https://your-openai-instance.openai.azure.com/
AZURE_OPENAI_DEPLOYMENT_NAME=gpt-4.1
AZURE_OPENAI_API_VERSION=2024-12-01-preview

# Session security (REQUIRED for production - use a strong random secret)
SESSION_SECRET=generate-a-strong-random-secret-here

# Vendor Verification Settings
VENDOR_VERIFICATION_ENABLED=true
VENDOR_CACHE_TTL_HOURS=24
VENDOR_DOMAIN_MATCHING_ENABLED=true

# Margin Thresholds for Risk Classification (percentages)
MARGIN_THRESHOLD_CRITICAL=10.0
MARGIN_THRESHOLD_HIGH=15.0
MARGIN_THRESHOLD_MEDIUM=20.0

# CORS Configuration (comma-separated origins)
# Update with your production frontend URL
CORS_ALLOWED_ORIGINS=http://localhost:3000

# PostgreSQL Database Configuration
# Note: DB_HOST should be 'postgres' when running in Docker
DATABASE_URL=postgresql+asyncpg://wci_user:wci_password@postgres:5432/wci_emailagent
DB_HOST=postgres
DB_PORT=5432
DB_NAME=wci_emailagent
DB_USER=wci_user
DB_PASSWORD=wci_password
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_ECHO=false
