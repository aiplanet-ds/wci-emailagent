# ============================================================================
# AZURE CONTAINER APPS - ENVIRONMENT VARIABLES TEMPLATE
# ============================================================================
# Use these values when deploying to Azure Container Apps
# Copy the values to Azure Portal or use with az containerapp commands
# ============================================================================

# Microsoft Azure AD / App Registration
AZ_TENANT_ID=common
AZ_CLIENT_ID=your-azure-client-id
AZ_CLIENT_SECRET=your-azure-client-secret

# Epicor ERP API Configuration
EPICOR_BASE_URL=https://your-epicor-instance.epicorsaas.com/api/v2/odata
EPICOR_API_KEY=your-epicor-api-key
EPICOR_COMPANY_ID=your-company-id
EPICOR_DEFAULT_PRICE_LIST=UNA1

# Epicor OAuth Configuration
EPICOR_TOKEN_URL=https://login.epicor.com/connect/token
EPICOR_CLIENT_ID=your-epicor-client-id
EPICOR_CLIENT_SECRET=your-epicor-client-secret

# Azure OpenAI Configuration
AZURE_OPENAI_API_KEY=your-azure-openai-api-key
AZURE_OPENAI_API_ENDPOINT=https://your-instance.openai.azure.com/
AZURE_OPENAI_DEPLOYMENT_NAME=gpt-4.1
AZURE_OPENAI_API_VERSION=2024-12-01-preview

# Session Security (generate with: openssl rand -hex 32)
SESSION_SECRET=generate-a-strong-random-secret

# Vendor Verification Settings
VENDOR_VERIFICATION_ENABLED=true
VENDOR_CACHE_TTL_HOURS=24
VENDOR_DOMAIN_MATCHING_ENABLED=true

# Margin Thresholds for Risk Classification (percentages)
MARGIN_THRESHOLD_CRITICAL=10.0
MARGIN_THRESHOLD_HIGH=15.0
MARGIN_THRESHOLD_MEDIUM=20.0

# CORS Configuration (update after deployment with your frontend URL)
CORS_ALLOWED_ORIGINS=https://wci-frontend.<region>.azurecontainerapps.io

# Azure PostgreSQL Database Configuration
# Format: postgresql+asyncpg://user:password@server.postgres.database.azure.com:5432/dbname?sslmode=require
DATABASE_URL=postgresql+asyncpg://wci_admin:your-password@your-server.postgres.database.azure.com:5432/wci_emailagent?sslmode=require
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_ECHO=false

# Server Configuration
HOST=0.0.0.0
PORT=8000
RELOAD=false

# ============================================================================
# FRONTEND CONTAINER ONLY
# ============================================================================
# Set this to the backend Container App URL after deploying backend
BACKEND_URL=https://wci-backend.<region>.azurecontainerapps.io
